<div *ngIf="isLoaded">
    <div class="container">
        <div *ngIf="showError">
            <hms-alert [error]="error"></hms-alert>
        </div>
        <div class="row">
            <div class="col-md-12 mt-3">
                <div class="d-flex justify-content-center">
                    <h3>{{title | uppercase}}</h3>
                </div>
            </div>

            <div class="col-md-12">
                <form (ngSubmit)="addUser()" [formGroup]="doctorForm">
                    {{doctorForm.value | json}}
                    <div formGroupName="userDetails">
                        <div class="form-row">
                            <div class="form-group" [ngClass]="{'col-md-6': !isEditPage,'col-md-12':isEditPage}">
                                <label for="username">Username</label>
                                <input type="text" class="form-control" #userName
                                    [class.is-invalid]="username.invalid && username.touched"
                                    [class.is-valid]="username.valid && username.touched" id="username"
                                    formControlName="username" placeholder="Username" name="username">

                                <div *ngIf="username.invalid && username.touched">
                                    <small class="text-danger" *ngIf="username.errors ?. required">Username is
                                        Required</small>
                                </div>
                            </div>
                            <div class="form-group col-md-6" *ngIf="!isEditPage">
                                <label for="inputPassword4">Password</label>
                                <input type="password" class="form-control" id="inputPassword4"
                                    formControlName="password" placeholder="Password" name="password"
                                    [class.is-invalid]="password.invalid && password.touched"
                                    [class.is-valid]="password.valid && password.touched">
                                <div *ngIf="password.touched && password.invalid">
                                    <small class="text-danger" *ngIf="password.errors ?. hasNumber">Must have one
                                        integer <br /></small>
                                    <small class="text-danger" *ngIf="password.errors ?. hasCapitalCase">Must have one
                                        capital case<br /></small>
                                    <small class="text-danger" *ngIf="password.errors ?. hasSmallCase">Must have one
                                        small case<br /></small>
                                    <small class="text-danger" *ngIf="password.errors ?. minlength">Must have length of
                                        8 characters<br /></small>
                                    <small class="text-danger" *ngIf="password.errors ?. required">Password is
                                        Required</small>

                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="firstname">Firstname</label>
                                <input type="text" class="form-control" id="firstName" placeholder="FirstName"
                                    name="firstName" formControlName="firstName"
                                    [class.is-invalid]="firstName.invalid && firstName.touched"
                                    [class.is-valid]="firstName.valid && firstName.touched">
                                <div *ngIf="firstName.touched && firstName.invalid">
                                    <small class="text-danger" *ngIf="firstName.errors ?. required">FirstName is
                                        Required</small>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputPassword4">Lastname</label>
                                <input type="text" class="form-control" id="lastName" formControlName="lastName"
                                    placeholder="LastName" name="lastName"
                                    [class.is-invalid]="lastName.invalid && lastName.touched"
                                    [class.is-valid]="lastName.valid && lastName.touched">
                                <div *ngIf="lastName.touched && lastName.invalid">
                                    <small class="text-danger" *ngIf="lastName.errors ?. required">FirstName is
                                        Required</small>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputCity">City</label>
                                <input type="text" class="form-control" placeholder="Enter City" name="city"
                                    id="inputCity" formControlName="city"
                                    [class.is-invalid]="city.invalid && city.touched"
                                    [class.is-valid]="city.valid && city.touched">
                                <div *ngIf="city.touched && city.invalid">
                                    <small class="text-danger" *ngIf="city.errors ?. required">FirstName is
                                        Required</small>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputState">State</label>
                                <select id="inputState" class="form-control" name="state" formControlName="state">
                                    <option selected disabled>Choose...</option>
                                    <option value="TamilNadu">TamilNadu</option>
                                    <option value="Kerala">Kerala</option>
                                    <option value="Karnadaka">Karnadaka</option>
                                    <option value="Pandichery">Pandichery</option>
                                </select>
                            </div>

                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-12">
                                <label for="phoneNumer">PhoneNumber</label>
                                <input type="text" class="form-control" name="phoneNumber"
                                    placeholder="Enter Phonenumber" formControlName="phoneNumber">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="specilization">specilization</label>
                            <input type="text" class="form-control" name="doctorSpecilization"
                                placeholder="Enter Specilization" formControlName="doctorSpecialization">
                        </div>

                    </div>

                    <div class="d-flex justify-content-center" *ngIf="!isEditPage">
                        <button type="submit" class="btn btn-primary">ADD DOCTOR</button>
                    </div>
                    <div class="d-flex justify-content-center" *ngIf="isEditPage">
                        <button type="submit" class="btn btn-warning">UPDATE DOCTOR</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>